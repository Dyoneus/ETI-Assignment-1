<!--  /web-frontend/mainMenu.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Main Menu</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/loadUserMenu.js"></script>
</head>
<body>
    <div class="auth-container">
        <div class="card">
            <header>
                <h1>Welcome, <span id="user-name">User</span>!</h1>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </header>
            <nav id="user-menu" class="user-menu">
                <!-- User-specific navigation will be loaded here -->
            </nav>
            <main id="main-content" class="main-content">
                <!-- Dynamic content will be loaded here -->
            </main>
        </div>
    </div>
    <script>
    window.onload = function() {
        var user = JSON.parse(sessionStorage.getItem('user'));
        if (user) {
            document.getElementById('user-name').textContent = user.first_name + ' ' + user.last_name;
            loadUserMenu();
        } else {
            console.log('No user information found. Redirecting to login.');
            window.location.href = 'login.html';
        }
    };
    </script>
</body>
</html>
